@{
    Layout = null;
}
@{
    ViewBag.Title = "蜂群无人机集群作战系统";
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>蜂群无人机集群作战系统</title>
    <link rel="stylesheet" type="text/css" href="~/Content/bootstrap-3.3.7-dist/css/style.css" />
    <style>
        html,
        body {
            overflow-x: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: #000000;
            background-image: url(../../image/bj02.png);
            background-size: cover;
        }

        .roboinfo {
            width: 99%;
            height: 98%;
            margin: 0 auto;
            background-image: url(../../Content/static/img/warcraft.31b0f82f.jpg);
            margin: 0.5% auto;
            background-size: cover;
        }

        .detailinfo {
            width: 190px;
            height: 35px;
            line-height: 35px;
            text-align: center;
            font-size: 20px;
            white-space:nowrap;
            overflow:hidden;
        }

        .engstate {
        }

        .serial {
            width: 75px;
            border: 1px solid #00F5FC;
            background-color: rgba(0, 40, 40, 0.6);
        }

        #setting {
            border: 1px solid #00F5FC;
            border-radius: 10px;
            background: rgba(0, 231, 231, 0.6);
        }
        /*滚动条开始*/
        .robodetailt {
            width: 100%;
            height: 74%;
            margin: 5px auto;
            overflow-y: scroll
        }
            .robodetailt::-webkit-scrollbar {
                color: #0000FF;
                border: 1px solid #05B7DE;
                background-color: #152043;
            }

            .robodetailt::-webkit-scrollbar-button {
                color: #05B7DE;
                /*border: none;*/
                background: url(../../image/down.png) !important;
                background-size:100%;
            }
                .robodetailt::-webkit-scrollbar-button:vertical:increment {
                    background: url(../../image/up.png) !important;
                    background-size: 100%;
                    background-repeat:no-repeat;
                }

            .robodetailt::-webkit-scrollbar-track {
                width: 10px;
                border: 1px solid #05B7DE;
                border-top: none;
                border-bottom: none;
                background-color: #152043;
            }

            .robodetailt::-webkit-scrollbar-thumb {
                background-color: #09699E;
                border: 1px solid #05B7DE;
            }

            .robodetailt::-webkit-scrollbar-track-piece {
                /* background-color: #13CE66; */
            }
        /*滚动条结束*/
        .name:first-child{
            /*background:#00F5FC;*/
            margin-top:30px;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="~/Content/bootstrap-3.3.7-dist/css/bootstrap.min.css" />
</head>
<body>
    <div id="#app" style="height:100%;overflow:hidden">
        <div class="row nav">
            <div class="col-xs-3" style="height: 100px;" onclick="skip()">
                <img src="~/image/8998994.png" alt="Alternate Text" />
            </div>
            <div class="col-xs-6" style="height: 100px;">
                <div style="width:auto;position:page;margin:20px auto;display:flex">
                    <div class="box_title" style="width:5%;height: 70px;border-right: none;margin-left:auto">
                    </div>
                    <div class="" style="width:auto;height: 70px;line-height:70px;text-align:center;white-space:nowrap;overflow:hidden">
                        <span class="" style="font-size: 28px;">&nbsp;蜂群无人机集群作战系统&nbsp;</span>
                    </div>
                    <div class="box_title" style="width:5%;height: 70px;border-left: none;margin-right: auto">
                    </div>
                </div>
            </div>
            <div class="col-xs-3" style="height: 100px;">
                <span id="dateTime" class="col-xs-offset-1" style="font-size:20px;line-height:110px;"></span>
                <a href="" class=" btn btn-danger col-xs-offset-1 " id="logout" style="">退出系统</a>
                <a href="#" id="setting" class="btn col-xs-offset-1" onclick="tosetting()" style="">
                    <span class="glyphicon glyphicon-cog"></span>
                </a>
            </div>
        </div>
        <div style="width: 100%;height: 7px;background: linear-gradient(to right,#050F2A,#00F5FC,#050F2A);"></div>
        <div style="width: 96%; height: 40px; margin: 0 auto;">
            <div class="uavInfo" style="display: flex;margin:10px auto;width:100%;">
                <div class="box_title detailinfo" style="width:5.7%;">
                    <span>序号</span>
                </div>
                <div class="box_title detailinfo" style="width:14.4%;margin-left:1.05%">
                    <span>发动机状态</span>
                </div>
                <div class="box_title detailinfo" style="width:14.4%;margin-left:1.1%">
                    <span>电量</span>
                </div>
                <div class="box_title detailinfo" style="width:14.4%;margin-left:1.1%">
                    <span>结构完好度</span>
                </div>
                <div class="box_title detailinfo" style="width:14.4%;margin-left:1.1%">
                    <span>截弹量</span>
                </div>
                <div class="box_title detailinfo" style="width:14.4%;margin-left:1.1%">
                    <span>刀浆可用性</span>
                </div>
                <div class="box_title detailinfo" style="width:14.4%;margin-left:1.1%">
                    <span>综合评估建设</span>
                </div>
            </div>
        </div>
        <div class="robodetailt" style="">
            <div class="" style="width:96%;height:;margin:0 2%;">

                <div class="testTable" style="width:100%;height:100%;position:relative;">

                </div>

            </div>
        </div>


    </div>


    <script src="~/Content/bootstrap-3.3.7-dist/js/jquery-3.5.1.min.js"></script>
    <script src="~/Content/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
</body>
</html>
<script type="text/javascript">
    window.onload = function () {
        rendering();
        formatDate();
        decideintact();

    }
    //获取日期
    function formatDate() {
        let date = new Date();
        let year = date.getFullYear(); // 年
        let month = date.getMonth() + 1; // 月
        let day = date.getDate(); // 日
        var dateTime = document.getElementById('dateTime');
        dateTime.innerHTML = year + "/" + month + "/" + day;
    }
    //判断是否完好 附上背景颜色
    function decideintact() {
        let engstate = document.getElementsByClassName('engstate')
        let assess = document.getElementsByClassName('assess')
        let p_quantity = document.getElementsByClassName('p_quantity')
        let quantity = document.getElementsByClassName('quantity')

        let p_commence = document.getElementsByClassName('p_commence')
        let commence = document.getElementsByClassName('commence')

        let p_cutcap = document.getElementsByClassName('p_cutcap')
        let cutcap = document.getElementsByClassName('cutcap')

        let p_availability = document.getElementsByClassName('p_availability')
        let availability = document.getElementsByClassName('availability')

        for (let i = 0; i < assess.length; i++) {
            //发动机状态
            if (engstate[i].children[0].innerHTML == "完好") {
                engstate[i].className = engstate[i].className + " intact";
            } else if (engstate[i].children[0].innerHTML == "故障") {
                engstate[i].className = engstate[i].className + " unintact";
            } else if (engstate[i].children[0].innerHTML == "离线") {
                engstate[i].className = engstate[i].className + " offline";
            }
            //综合评估建设
            if (assess[i].children[0].innerHTML == "继续作战") {
                assess[i].className = assess[i].className + " intact";
            } else if (assess[i].children[0].innerHTML == "建议返航") {
                assess[i].className = assess[i].className + " unintact";
            } else if (assess[i].children[0].innerHTML == "建议回收") {
                assess[i].className = assess[i].className + " offline";
            }
            let bg_p_quantity = p_quantity[i].innerHTML.split("%")[0]
            let bg_p_commence = p_commence[i].innerHTML.split("%")[0]
            let bg_p_cutcap = p_cutcap[i].innerHTML.split("%")[0]
            let bg_p_availability = p_availability[i].innerHTML.split("%")[0]
            if (bg_p_quantity >= 0 && bg_p_quantity <= 20) {
                quantity[i].style.backgroundColor = "#AFA477";
            }
            if (bg_p_commence >= 0 && bg_p_commence <= 20) {
                commence[i].style.backgroundColor = "#AFA477";
            }
            if (bg_p_cutcap >= 0 && bg_p_cutcap <= 20) {
                cutcap[i].style.backgroundColor = "#AFA477";
            }
            if (bg_p_availability >= 0 && bg_p_availability <= 20) {
                availability[i].style.backgroundColor = "#AFA477";
            }


        }

    }

    function skip() {
        window.location = "/Home/Index";
    }
    function tosetting() {
        window.location = "/Map/Index";
    }

    //测试页面循环表格用
    function rendering() {
        var orderBody = '';
        let tab = sidenav;
        $.each(tab, function (index, val) {
            orderBody += '<div class="name" style="display:flex;margin:0.38% auto;">\
                <div class="detailinfo serial" style = "width:5.8%">\
                    <span>' + val.num + '</span>\
                </div >\
                <div class="engstate detailinfo" style="margin-left:1.1%;width:14.7%;margin-left:1.1%;">\
                    <span class="p_engstate">' + val.engstate + '</span>\
                </div>\
                <div class="progress_detailt detailinfo" style="background-color: rgba(0, 40, 40, 0.6);width:14.7%;margin-left:1.1%;">\
                    <div class="skills quantity" style="width:' + val.quantity + '%;"></div>\
                    <div style="width:14.7%;">\
                        <span class="p_quantity">' + val.quantity + '%</span>\
                    </div>\
                </div>\
                <div class="progress_detailt detailinfo" style="background-color: rgba(0, 40, 40, 0.6);width:14.7%;margin-left:1.1%;">\
                    <div class="skills commence" style="width:' + val.commence + '%;"></div>\
                    <div style="width:14.7%;">\
                        <span class="p_commence">' + val.commence + '%</span>\
                    </div>\
                </div>\
                <div class="progress_detailt detailinfo" style="background-color: rgba(0, 40, 40, 0.6);width:14.7%;margin-left:1.1%;">\
                    <div class="skills cutcap" style="width:' + val.cutcap + '%;"></div>\
                    <div style="width:14%;">\
                        <span class="p_cutcap">' + val.cutcap + '%</span>\
                    </div>\
                </div>\
                <div class="progress_detailt detailinfo" style="background-color: rgba(0, 40, 40, 0.6);width:14.7%;margin-left:1.1%;">\
                    <div class="skills availability" style="width:' + val.availability + '%;"></div>\
                    <div style="width:14.7%;">\
                        <span class="p_availability">' + val.availability + '%</span>\
                    </div>\
                </div>\
                <div class="assess detailinfo" style="margin-left:1.1%;width:14.7%;">\
                    <span>' + val.assess + '</span></div></div >'
        })
        $('.testTable').append(orderBody);
    }
</script>
<script>
    var sidenav = [
        {
            num: '01',
            machinetype: 'warcraft01.jpg',
            engstate: '完好',
            quantity: '100',
            commence: '100',
            cutcap: '100',
            availability: '100',
            assess: '继续作战',
        },
        {
            num: '02',
            machinetype: 'warcraft02.jpg',
            engstate: '故障',
            quantity: '70',
            commence: '20',
            cutcap: '90',
            availability: '50',
            assess: '建议返航',
        },
        {
            num: '03',
            machinetype: 'warcraft03.jpg',
            engstate: '完好',
            quantity: '60',
            commence: '70',
            cutcap: '80',
            availability: '70',
            assess: '继续作战',
        },
        {
            num: '04',
            machinetype: 'warcraft04.jpg',
            engstate: '故障',
            quantity: '50',
            commence: '30',
            cutcap: '20',
            availability: '20',
            assess: '建议返航',
        },
        {
            num: '05',
            machinetype: 'warcraft05.jpg',
            engstate: '完好',
            quantity: '40',
            commence: '89',
            cutcap: '80',
            availability: '70',
            assess: '继续作战',
        },
        {
            num: '06',
            machinetype: 'warcraft06.jpg',
            engstate: '故障',
            quantity: '30',
            commence: '10',
            cutcap: '20',
            availability: '40',
            assess: '建议返航',
        },
        {
            num: '07',
            machinetype: 'warcraft07.jpg',
            engstate: '完好',
            quantity: '80',
            commence: '40',
            cutcap: '70',
            availability: '40',
            assess: '继续作战',
        },
        {
            num: '08',
            machinetype: 'warcraft08.jpg',
            engstate: '故障',
            quantity: '40',
            commence: '70',
            cutcap: '20',
            availability: '20',
            assess: '建议返航',
        },
        {
            num: '09',
            machinetype: 'warcraft09.jpg',
            engstate: '完好',
            quantity: '60',
            commence: '70',
            cutcap: '50',
            availability: '70',
            assess: '继续作战',
        },
        {
            num: '10',
            machinetype: 'warcraft10.jpg',
            engstate: '故障',
            quantity: '39',
            commence: '48',
            cutcap: '20',
            availability: '21',
            assess: '建议返航',
        },
        {
            num: '11',
            machinetype: 'warcraft11.jpg',
            engstate: '完好',
            quantity: '80',
            commence: '70',
            cutcap: '70',
            availability: '70',
            assess: '继续作战',
        },
        {
            num: '12',
            machinetype: 'warcraft12.jpg',
            engstate: '故障',
            quantity: '70',
            commence: '10',
            cutcap: '70',
            availability: '20',
            assess: '建议返航',
        },
        {
            num: '13',
            machinetype: 'warcraft12.jpg',
            engstate: '故障',
            quantity: '30',
            commence: '20',
            cutcap: '60',
            availability: '40',
            assess: '建议返航',
        },
        {
            num: '14',
            machinetype: 'warcraft12.jpg',
            engstate: '故障',
            quantity: '20',
            commence: '80',
            cutcap: '70',
            availability: '50',
            assess: '建议返航',
        },
        {
            num: '15',
            machinetype: 'warcraft05.jpg',
            engstate: '完好',
            quantity: '40',
            commence: '70',
            cutcap: '80',
            availability: '70',
            assess: '继续作战',
        },
        {
            num: '16',
            machinetype: 'warcraft06.jpg',
            engstate: '故障',
            quantity: '10',
            commence: '70',
            cutcap: '30',
            availability: '50',
            assess: '建议返航',
        },
        {
            num: '17',
            machinetype: 'warcraft07.jpg',
            engstate: '完好',
            quantity: '80',
            commence: '40',
            cutcap: '70',
            availability: '40',
            assess: '继续作战',
        },
        {
            num: '18',
            machinetype: 'warcraft08.jpg',
            engstate: '故障',
            quantity: '40',
            commence: '70',
            cutcap: '40',
            availability: '19',
            assess: '建议返航',
        },
        {
            num: '19',
            machinetype: 'warcraft09.jpg',
            engstate: '完好',
            quantity: '60',
            commence: '40',
            cutcap: '50',
            availability: '70',
            assess: '继续作战',
        },
        {
            num: '20',
            machinetype: 'warcraft10.jpg',
            engstate: '故障',
            quantity: '80',
            commence: '23',
            cutcap: '15',
            availability: '80',
            assess: '建议返航',
        },
        {
            num: '21',
            machinetype: 'warcraft10.jpg',
            engstate: '离线',
            quantity: '0',
            commence: '0',
            cutcap: '0',
            availability: '0',
            assess: '建议回收',
        },
        {
            num: '22',
            machinetype: 'warcraft10.jpg',
            engstate: '故障',
            quantity: '20',
            commence: '20',
            cutcap: '20',
            availability: '19',
            assess: '建议返航',
        }
    ]
</script>